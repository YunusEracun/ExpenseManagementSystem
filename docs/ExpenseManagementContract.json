{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Harcama İşlemleri","description":"Harcama ekleme, listeleme ve onaylama yönetimi"}],"paths":{"/api/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}}}},"post":{"tags":["user-controller"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/expenses/{userId}":{"post":{"tags":["Harcama İşlemleri"],"summary":"Yeni Harcama Ekle","description":"Kullanıcı adına yeni bir harcama fişi oluşturur.","operationId":"createExpense","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Expense"}}}}}}},"/api/expenses/{id}/{status}":{"patch":{"tags":["Harcama İşlemleri"],"summary":"Harcama Onayla/Reddet","description":"Verilen ID'li harcamanın durumunu değiştirir. DİKKAT: memberId parametresi ile ADMIN ID'si gönderilmelidir.","operationId":"updateExpenseStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]}},{"name":"memberId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Expense"}}}}}}},"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/expenses/pending":{"get":{"tags":["Harcama İşlemleri"],"operationId":"getPendingExpenses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Expense"}}}}}}}}},"components":{"schemas":{"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"firstName":{"maxLength":50,"minLength":2,"pattern":"^[a-zA-ZğüşıöçĞÜŞİÖÇ ]+$","type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["EMPLOYEE","ADMIN"]}}},"Links":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["EMPLOYEE","ADMIN"]},"_links":{"$ref":"#/components/schemas/Links"}}},"ExpenseRequest":{"required":["amount","description"],"type":"object","properties":{"amount":{"minimum":0.01,"exclusiveMinimum":false,"type":"number"},"description":{"type":"string"}}},"Expense":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"amount":{"type":"number"},"description":{"type":"string"},"date":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED"]},"user":{"$ref":"#/components/schemas/User"}}},"Link":{"type":"object","properties":{"href":{"type":"string"},"hreflang":{"type":"string"},"title":{"type":"string"},"type":{"type":"string"},"deprecation":{"type":"string"},"profile":{"type":"string"},"name":{"type":"string"},"templated":{"type":"boolean"}}}}}}